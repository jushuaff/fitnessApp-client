{"ast":null,"code":"import React,{useEffect,useState,useCallback}from'react';import{Card,Button}from'react-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CartItem=_ref=>{let{item,inputValue,onInputChange,onQuantityBlur,onRemoveItem,onUpdateQuantity,onSelectItem,isSelected}=_ref;const[product,setProduct]=useState(null);const fetchProduct=useCallback(()=>{const fetchUrl=\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/products/\").concat(item.productId);fetch(fetchUrl,{headers:{Authorization:\"Bearer \".concat(localStorage.getItem('token'))}}).then(res=>res.json()).then(data=>{if(data.product){setProduct(data.product);}else{console.error('Product data structure is not as expected:',data);}}).catch(error=>{console.error('Error fetching product details:',error);});},[item.productId]);useEffect(()=>{fetchProduct();},[fetchProduct]);if(!product){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});// Display a loading message while the product data is being fetched\n}return/*#__PURE__*/_jsxs(Card,{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(Card.Body,{className:\"cart-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"product-\".concat(item.productId),checked:isSelected,onChange:()=>onSelectItem(item.productId),style:{margin:'8px 10px 0 0'}}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product-\".concat(item.productId),children:product.name})}),/*#__PURE__*/_jsx(Card.Text,{children:product.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-bottom\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Quantity:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:inputValue||'',min:\"0\",onChange:e=>onInputChange(item.productId,e.target.value),onBlur:()=>{onQuantityBlur(item.productId);onUpdateQuantity(item.productId,inputValue);},style:{width:'60px',marginLeft:'10px'}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Subtotal:\"}),\" \\u20B1\",item.subtotal.toLocaleString(undefined,{minimumFractionDigits:2})]})]})]}),/*#__PURE__*/_jsx(Card.Footer,{children:/*#__PURE__*/_jsx(Button,{className:\"w-100\",variant:\"danger\",onClick:()=>onRemoveItem(item.productId),children:\"Remove\"})})]});};export default CartItem;","map":{"version":3,"names":["React","useEffect","useState","useCallback","Card","Button","jsx","_jsx","jsxs","_jsxs","CartItem","_ref","item","inputValue","onInputChange","onQuantityBlur","onRemoveItem","onUpdateQuantity","onSelectItem","isSelected","product","setProduct","fetchProduct","fetchUrl","concat","process","env","REACT_APP_API_BASE_URL","productId","fetch","headers","Authorization","localStorage","getItem","then","res","json","data","console","error","catch","children","className","Body","type","id","checked","onChange","style","margin","Title","htmlFor","name","Text","description","value","min","e","target","onBlur","width","marginLeft","subtotal","toLocaleString","undefined","minimumFractionDigits","Footer","variant","onClick"],"sources":["D:/ZUITT/B443/b443-csp3-fataek-lim/src/components/CartItem.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from 'react';\nimport { Card, Button } from 'react-bootstrap';\n\nconst CartItem = ({ item, inputValue, onInputChange, onQuantityBlur, onRemoveItem, onUpdateQuantity, onSelectItem, isSelected }) => {\n    const [product, setProduct] = useState(null);\n\n    const fetchProduct = useCallback(() => {\n        const fetchUrl = `${process.env.REACT_APP_API_BASE_URL}/products/${item.productId}`;\n\n        fetch(fetchUrl, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n        .then(res => res.json())\n        .then(data => {\n            if (data.product) {\n                setProduct(data.product);\n            } else {\n                console.error('Product data structure is not as expected:', data);\n            }\n        })\n        .catch(error => {\n            console.error('Error fetching product details:', error);\n        });\n    }, [item.productId]);\n\n    useEffect(() => {\n        fetchProduct();\n    }, [fetchProduct]);\n\n    if (!product) {\n        return <div>Loading...</div>; // Display a loading message while the product data is being fetched\n    }\n\n    return (\n        <Card className=\"mb-3\">\n            <Card.Body className=\"cart-body\">\n                <div className=\"d-flex align-items-start\">\n                    {/* Checkbox for selecting item */}\n                    <input\n                        type=\"checkbox\" \n                        id={`product-${item.productId}`}\n                        checked={isSelected} \n                        onChange={() => onSelectItem(item.productId)} \n                        style={{ margin: '8px 10px 0 0' }} \n                    />\n                    <div>\n                        <Card.Title><label htmlFor={`product-${item.productId}`}>{product.name}</label></Card.Title>\n                        <Card.Text>{product.description}</Card.Text>\n                    </div>\n                </div>\n                <div className=\"card-bottom\">\n                    <div className=\"\">\n                        <strong>Quantity:</strong>\n                        <input\n                            type=\"number\"\n                            value={inputValue || ''}\n                            min=\"0\"\n                            onChange={(e) => onInputChange(item.productId, e.target.value)}\n                            onBlur={() => {\n                                onQuantityBlur(item.productId);\n                                onUpdateQuantity(item.productId, inputValue);\n                            }}\n                            style={{ width: '60px', marginLeft: '10px' }}\n                        />\n                    </div>\n                    <div>\n                        <strong>Subtotal:</strong> â‚±{item.subtotal.toLocaleString(undefined, { minimumFractionDigits: 2 })}\n                    </div>\n                </div>\n            </Card.Body>\n            <Card.Footer>\n                <Button className=\"w-100\" variant=\"danger\" onClick={() => onRemoveItem(item.productId)}>\n                    Remove\n                </Button>\n            </Card.Footer>\n        </Card>\n    );\n};\n\nexport default CartItem;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}