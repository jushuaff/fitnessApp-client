{"ast":null,"code":"import{useContext,useEffect,useState}from'react';import{useNavigate,Navigate}from'react-router-dom';import Swal from'sweetalert2';import UserContext from'../context/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Logout(){const{unsetUser}=useContext(UserContext);const[isLoggedOut,setIsLoggedOut]=useState(false);const navigate=useNavigate();useEffect(()=>{const showLogoutConfirmation=async()=>{const result=await Swal.fire({title:'Are you sure?',text:\"You will be logged out!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Yes, logout!',cancelButtonText:'Cancel'});if(result.isConfirmed){unsetUser();setIsLoggedOut(true);Swal.fire('Logged out!','You have been logged out.','success');}else{// Navigate back to the previous page\nnavigate(-1);}};// Only show confirmation if not already logged out\nif(!isLoggedOut){showLogoutConfirmation();}},[unsetUser,navigate,isLoggedOut]);if(isLoggedOut){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}// Render nothing while waiting for confirmation\nreturn null;}","map":{"version":3,"names":["useContext","useEffect","useState","useNavigate","Navigate","Swal","UserContext","jsx","_jsx","Logout","unsetUser","isLoggedOut","setIsLoggedOut","navigate","showLogoutConfirmation","result","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","to"],"sources":["D:/ZUITT/B443/b443-csp3-fataek-lim/src/pages/Logout.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport UserContext from '../context/UserContext';\n\nexport default function Logout() {\n    const { unsetUser } = useContext(UserContext);\n    const [isLoggedOut, setIsLoggedOut] = useState(false);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const showLogoutConfirmation = async () => {\n            const result = await Swal.fire({\n                title: 'Are you sure?',\n                text: \"You will be logged out!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: 'Yes, logout!',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (result.isConfirmed) {\n                unsetUser();\n                setIsLoggedOut(true);\n                Swal.fire(\n                    'Logged out!',\n                    'You have been logged out.',\n                    'success'\n                );\n            } else {\n                // Navigate back to the previous page\n                navigate(-1);\n            }\n        };\n\n        // Only show confirmation if not already logged out\n        if (!isLoggedOut) {\n            showLogoutConfirmation();\n        }\n    }, [unsetUser, navigate, isLoggedOut]);\n\n    if (isLoggedOut) {\n        return <Navigate to='/login' />;\n    }\n\n    // Render nothing while waiting for confirmation\n    return null;\n}\n"],"mappings":"AAAA,OAASA,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACvD,OAASC,WAAW,CAAEC,QAAQ,KAAQ,kBAAkB,CACxD,MAAO,CAAAC,IAAI,KAAM,aAAa,CAC9B,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjD,cAAe,SAAS,CAAAC,MAAMA,CAAA,CAAG,CAC7B,KAAM,CAAEC,SAAU,CAAC,CAAGV,UAAU,CAACM,WAAW,CAAC,CAC7C,KAAM,CAACK,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAa,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACvC,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAAV,IAAI,CAACW,IAAI,CAAC,CAC3BC,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,yBAAyB,CAC/BC,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,SAAS,CAC7BC,iBAAiB,CAAE,MAAM,CACzBC,iBAAiB,CAAE,cAAc,CACjCC,gBAAgB,CAAE,QACtB,CAAC,CAAC,CAEF,GAAIT,MAAM,CAACU,WAAW,CAAE,CACpBf,SAAS,CAAC,CAAC,CACXE,cAAc,CAAC,IAAI,CAAC,CACpBP,IAAI,CAACW,IAAI,CACL,aAAa,CACb,2BAA2B,CAC3B,SACJ,CAAC,CACL,CAAC,IAAM,CACH;AACAH,QAAQ,CAAC,CAAC,CAAC,CAAC,CAChB,CACJ,CAAC,CAED;AACA,GAAI,CAACF,WAAW,CAAE,CACdG,sBAAsB,CAAC,CAAC,CAC5B,CACJ,CAAC,CAAE,CAACJ,SAAS,CAAEG,QAAQ,CAAEF,WAAW,CAAC,CAAC,CAEtC,GAAIA,WAAW,CAAE,CACb,mBAAOH,IAAA,CAACJ,QAAQ,EAACsB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACnC,CAEA;AACA,MAAO,KAAI,CACf"},"metadata":{},"sourceType":"module","externalDependencies":[]}