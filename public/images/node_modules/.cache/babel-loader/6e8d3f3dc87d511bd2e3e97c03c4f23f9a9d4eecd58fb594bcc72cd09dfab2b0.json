{"ast":null,"code":"var _jsxFileName = \"D:\\\\ZUITT\\\\B443\\\\b443-csp3-fataek-lim\\\\src\\\\pages\\\\UpdateProduct.js\",\n  _s = $RefreshSig$();\nimport { Button, Modal, Form } from 'react-bootstrap';\nimport { useState } from 'react';\nimport { Notyf } from 'notyf';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function EditProduct({\n  product,\n  fetchData\n}) {\n  _s();\n  const notyf = new Notyf();\n\n  // Use product's data to initialize state variables\n  const [productId, setProductId] = useState(product._id);\n  const [name, setName] = useState(product.name);\n  const [description, setDescription] = useState(product.description);\n  const [price, setPrice] = useState(product.price);\n  const [showEdit, setShowEdit] = useState(false);\n\n  // Handlers to open and close the modal\n  const openEdit = () => {\n    setShowEdit(true);\n  };\n  const closeEdit = () => {\n    setShowEdit(false);\n    setName(product.name); // Reset to original product name\n    setDescription(product.description); // Reset to original description\n    setPrice(product.price); // Reset to original price\n  };\n\n  // Handler to update the product\n  const editProduct = (e, productId) => {\n    e.preventDefault();\n    fetch(`http://localhost:4000/products/${productId}`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${localStorage.getItem('token')}`\n      },\n      body: JSON.stringify({\n        name: name,\n        description: description,\n        price: price\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data.success) {\n        notyf.success(\"Product successfully updated\");\n        closeEdit();\n        fetchData(); // Refresh the product list after update\n      } else {\n        notyf.error(\"Something went wrong\");\n        closeEdit();\n        fetchData();\n      }\n    }).catch(err => {\n      console.error(\"Error updating product:\", err);\n      notyf.error(\"Error updating product\");\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      size: \"sm\",\n      onClick: openEdit,\n      children: \"Edit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showEdit,\n      onHide: closeEdit,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        onSubmit: e => editProduct(e, productId),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Edit Product\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productName\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: name,\n              onChange: e => setName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productDescription\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              value: description,\n              onChange: e => setDescription(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"productPrice\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              value: price,\n              onChange: e => setPrice(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: closeEdit,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            type: \"submit\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(EditProduct, \"Yi1qXN8yJJSbXMStpAWGpFCHxzY=\");\n_c = EditProduct;\nvar _c;\n$RefreshReg$(_c, \"EditProduct\");","map":{"version":3,"names":["Button","Modal","Form","useState","Notyf","jsxDEV","_jsxDEV","Fragment","_Fragment","EditProduct","product","fetchData","_s","notyf","productId","setProductId","_id","name","setName","description","setDescription","price","setPrice","showEdit","setShowEdit","openEdit","closeEdit","editProduct","e","preventDefault","fetch","method","headers","Authorization","localStorage","getItem","body","JSON","stringify","then","res","json","data","console","log","success","error","catch","err","children","variant","size","onClick","fileName","_jsxFileName","lineNumber","columnNumber","show","onHide","onSubmit","Header","closeButton","Title","Body","Group","controlId","Label","Control","type","value","onChange","target","required","Footer","_c","$RefreshReg$"],"sources":["D:/ZUITT/B443/b443-csp3-fataek-lim/src/pages/UpdateProduct.js"],"sourcesContent":["import { Button, Modal, Form } from 'react-bootstrap';\r\nimport { useState } from 'react';\r\nimport { Notyf } from 'notyf';\r\n\r\nexport default function EditProduct({ product, fetchData }) {\r\n    const notyf = new Notyf();\r\n\r\n    // Use product's data to initialize state variables\r\n    const [productId, setProductId] = useState(product._id);\r\n    const [name, setName] = useState(product.name);\r\n    const [description, setDescription] = useState(product.description);\r\n    const [price, setPrice] = useState(product.price);\r\n    const [showEdit, setShowEdit] = useState(false);\r\n\r\n    // Handlers to open and close the modal\r\n    const openEdit = () => {\r\n        setShowEdit(true);\r\n    };\r\n\r\n    const closeEdit = () => {\r\n        setShowEdit(false);\r\n        setName(product.name); // Reset to original product name\r\n        setDescription(product.description); // Reset to original description\r\n        setPrice(product.price); // Reset to original price\r\n    };\r\n\r\n    // Handler to update the product\r\n    const editProduct = (e, productId) => {\r\n        e.preventDefault();\r\n\r\n        fetch(`http://localhost:4000/products/${productId}`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${localStorage.getItem('token')}`\r\n            },\r\n            body: JSON.stringify({\r\n                name: name,\r\n                description: description,\r\n                price: price\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n            console.log(data);\r\n\r\n            if (data.success) {\r\n                notyf.success(\"Product successfully updated\");\r\n                closeEdit();\r\n                fetchData(); // Refresh the product list after update\r\n            } else {\r\n                notyf.error(\"Something went wrong\");\r\n                closeEdit();\r\n                fetchData();\r\n            }\r\n        })\r\n        .catch(err => {\r\n            console.error(\"Error updating product:\", err);\r\n            notyf.error(\"Error updating product\");\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button variant=\"primary\" size=\"sm\" onClick={openEdit}>\r\n                Edit\r\n            </Button>\r\n\r\n            <Modal show={showEdit} onHide={closeEdit}>\r\n                <Form onSubmit={e => editProduct(e, productId)}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Edit Product</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>\r\n                        <Form.Group controlId=\"productName\">\r\n                            <Form.Label>Name</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\"\r\n                                value={name}\r\n                                onChange={e => setName(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"productDescription\">\r\n                            <Form.Label>Description</Form.Label>\r\n                            <Form.Control \r\n                                type=\"text\" \r\n                                value={description}\r\n                                onChange={e => setDescription(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"productPrice\">\r\n                            <Form.Label>Price</Form.Label>\r\n                            <Form.Control \r\n                                type=\"number\" \r\n                                value={price}\r\n                                onChange={e => setPrice(e.target.value)}\r\n                                required\r\n                            />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={closeEdit}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Submit\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}