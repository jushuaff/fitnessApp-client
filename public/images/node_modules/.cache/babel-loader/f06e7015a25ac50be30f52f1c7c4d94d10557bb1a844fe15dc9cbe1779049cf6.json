{"ast":null,"code":"var _jsxFileName = \"D:\\\\ZUITT\\\\B443\\\\b443-csp3-fataek-lim\\\\src\\\\pages\\\\Logout.js\",\n  _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport UserContext from '../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Logout() {\n  _s();\n  const {\n    unsetUser\n  } = useContext(UserContext);\n  const [isLoggedOut, setIsLoggedOut] = useState(false);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const showLogoutConfirmation = async () => {\n      const result = await Swal.fire({\n        title: 'Are you sure?',\n        text: \"You will be logged out!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, logout!',\n        cancelButtonText: 'Cancel'\n      });\n      if (result.isConfirmed) {\n        unsetUser();\n        setIsLoggedOut(true);\n        Swal.fire('Logged out!', 'You have been logged out.', 'success');\n      } else {\n        // Navigate back to the previous page\n        navigate(-1);\n      }\n    };\n\n    // Only show confirmation if not already logged out\n    if (!isLoggedOut) {\n      showLogoutConfirmation();\n    }\n  }, [unsetUser, navigate, isLoggedOut]);\n  if (isLoggedOut) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Render nothing while waiting for confirmation\n  return null;\n}\n_s(Logout, \"vYcUZ8Ospc8jXwkXPAm/WzDyFsw=\", false, function () {\n  return [useNavigate];\n});\n_c = Logout;\nvar _c;\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"names":["useContext","useEffect","useState","useNavigate","Navigate","Swal","UserContext","jsxDEV","_jsxDEV","Logout","_s","unsetUser","isLoggedOut","setIsLoggedOut","navigate","showLogoutConfirmation","result","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed","to","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/ZUITT/B443/b443-csp3-fataek-lim/src/pages/Logout.js"],"sourcesContent":["import { useContext, useEffect, useState } from 'react';\nimport { useNavigate, Navigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport UserContext from '../context/UserContext';\n\nexport default function Logout() {\n    const { unsetUser } = useContext(UserContext);\n    const [isLoggedOut, setIsLoggedOut] = useState(false);\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        const showLogoutConfirmation = async () => {\n            const result = await Swal.fire({\n                title: 'Are you sure?',\n                text: \"You will be logged out!\",\n                icon: 'warning',\n                showCancelButton: true,\n                confirmButtonColor: '#3085d6',\n                cancelButtonColor: '#d33',\n                confirmButtonText: 'Yes, logout!',\n                cancelButtonText: 'Cancel'\n            });\n\n            if (result.isConfirmed) {\n                unsetUser();\n                setIsLoggedOut(true);\n                Swal.fire(\n                    'Logged out!',\n                    'You have been logged out.',\n                    'success'\n                );\n            } else {\n                // Navigate back to the previous page\n                navigate(-1);\n            }\n        };\n\n        // Only show confirmation if not already logged out\n        if (!isLoggedOut) {\n            showLogoutConfirmation();\n        }\n    }, [unsetUser, navigate, isLoggedOut]);\n\n    if (isLoggedOut) {\n        return <Navigate to='/login' />;\n    }\n\n    // Render nothing while waiting for confirmation\n    return null;\n}\n"],"mappings":";;AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,WAAW,EAAEC,QAAQ,QAAQ,kBAAkB;AACxD,OAAOC,IAAI,MAAM,aAAa;AAC9B,OAAOC,WAAW,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,eAAe,SAASC,MAAMA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM;IAAEC;EAAU,CAAC,GAAGX,UAAU,CAACM,WAAW,CAAC;EAC7C,MAAM,CAACM,WAAW,EAAEC,cAAc,CAAC,GAAGX,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMY,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACZ,MAAMc,sBAAsB,GAAG,MAAAA,CAAA,KAAY;MACvC,MAAMC,MAAM,GAAG,MAAMX,IAAI,CAACY,IAAI,CAAC;QAC3BC,KAAK,EAAE,eAAe;QACtBC,IAAI,EAAE,yBAAyB;QAC/BC,IAAI,EAAE,SAAS;QACfC,gBAAgB,EAAE,IAAI;QACtBC,kBAAkB,EAAE,SAAS;QAC7BC,iBAAiB,EAAE,MAAM;QACzBC,iBAAiB,EAAE,cAAc;QACjCC,gBAAgB,EAAE;MACtB,CAAC,CAAC;MAEF,IAAIT,MAAM,CAACU,WAAW,EAAE;QACpBf,SAAS,CAAC,CAAC;QACXE,cAAc,CAAC,IAAI,CAAC;QACpBR,IAAI,CAACY,IAAI,CACL,aAAa,EACb,2BAA2B,EAC3B,SACJ,CAAC;MACL,CAAC,MAAM;QACH;QACAH,QAAQ,CAAC,CAAC,CAAC,CAAC;MAChB;IACJ,CAAC;;IAED;IACA,IAAI,CAACF,WAAW,EAAE;MACdG,sBAAsB,CAAC,CAAC;IAC5B;EACJ,CAAC,EAAE,CAACJ,SAAS,EAAEG,QAAQ,EAAEF,WAAW,CAAC,CAAC;EAEtC,IAAIA,WAAW,EAAE;IACb,oBAAOJ,OAAA,CAACJ,QAAQ;MAACuB,EAAE,EAAC;IAAQ;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACnC;;EAEA;EACA,OAAO,IAAI;AACf;AAACrB,EAAA,CA5CuBD,MAAM;EAAA,QAGTN,WAAW;AAAA;AAAA6B,EAAA,GAHRvB,MAAM;AAAA,IAAAuB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}