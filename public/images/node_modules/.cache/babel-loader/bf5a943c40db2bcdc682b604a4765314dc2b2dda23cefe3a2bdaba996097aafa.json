{"ast":null,"code":"var _jsxFileName = \"D:\\\\ZUITT\\\\B443\\\\b443-csp3-fataek-lim\\\\src\\\\pages\\\\AddProduct.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from 'react';\nimport { Form, Button } from 'react-bootstrap';\nimport { Navigate, useNavigate } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport UserContext from '../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function AddProduct() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    user\n  } = useContext(UserContext);\n\n  // Input states\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  function createProduct(e) {\n    // Prevent submit event's default behavior\n    e.preventDefault();\n    let token = localStorage.getItem('token');\n    console.log(token);\n    fetch('http://localhost:4000/products/', {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: name,\n        description: description,\n        price: price\n      })\n    }).then(res => res.json()).then(data => {\n      console.log(data);\n      if (data.message === \"Product already exists\") {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Product already exists.'\n        });\n      } else if (data.success === true) {\n        // Reset the input fields\n        setName(\"\");\n        setDescription(\"\");\n        setPrice(0);\n        Swal.fire({\n          icon: 'success',\n          title: 'Success',\n          text: 'Product Creation Successful'\n        }).then(() => {\n          // Navigate to the products page\n          navigate(\"/products\");\n        });\n      } else {\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Something Went Wrong.'\n        });\n      }\n    });\n  }\n  return user.isAdmin === true ? /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"my-5 text-center\",\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: e => createProduct(e),\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Name:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Name\",\n          required: true,\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Description:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Enter Description\",\n          required: true,\n          value: description,\n          onChange: e => setDescription(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"number\",\n          placeholder: \"Enter Price\",\n          required: true,\n          value: price,\n          onChange: e => setPrice(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        type: \"submit\",\n        className: \"my-5\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true) : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/products\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 4\n  }, this);\n}\n_s(AddProduct, \"h9nFalVazlqYfVgzNt/dVIKoXic=\", false, function () {\n  return [useNavigate];\n});\n_c = AddProduct;\nvar _c;\n$RefreshReg$(_c, \"AddProduct\");","map":{"version":3,"names":["useState","useContext","Form","Button","Navigate","useNavigate","Swal","UserContext","jsxDEV","_jsxDEV","Fragment","_Fragment","AddProduct","_s","navigate","user","name","setName","description","setDescription","price","setPrice","createProduct","e","preventDefault","token","localStorage","getItem","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","data","message","fire","icon","title","text","success","isAdmin","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","Group","Label","Control","type","placeholder","required","value","onChange","target","variant","to","_c","$RefreshReg$"],"sources":["D:/ZUITT/B443/b443-csp3-fataek-lim/src/pages/AddProduct.js"],"sourcesContent":["import { useState, useContext } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { Navigate, useNavigate } from 'react-router-dom';\r\nimport Swal from 'sweetalert2';\r\n\r\nimport UserContext from '../context/UserContext';\r\n\r\nexport default function AddProduct() {\r\n\tconst navigate = useNavigate();\r\n\tconst { user } = useContext(UserContext);\r\n\r\n\t// Input states\r\n\tconst [name, setName] = useState(\"\");\r\n\tconst [description, setDescription] = useState(\"\");\r\n\tconst [price, setPrice] = useState(\"\");\r\n\r\n\tfunction createProduct(e) {\r\n\t\t// Prevent submit event's default behavior\r\n\t\te.preventDefault();\r\n\r\n\t\tlet token = localStorage.getItem('token');\r\n\t\tconsole.log(token);\r\n\r\n\t\tfetch('http://localhost:4000/products/', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\t'Authorization': `Bearer ${token}`\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tname: name,\r\n\t\t\t\tdescription: description,\r\n\t\t\t\tprice: price\r\n\t\t\t})\r\n\t\t})\r\n\t\t.then(res => res.json())\r\n\t\t.then(data => {\r\n\t\t\tconsole.log(data);\r\n\r\n\t\t\tif (data.message === \"Product already exists\") {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\ttext: 'Product already exists.'\r\n\t\t\t\t});\r\n\t\t\t} else if (data.success === true) {\r\n\t\t\t\t// Reset the input fields\r\n\t\t\t\tsetName(\"\");\r\n\t\t\t\tsetDescription(\"\");\r\n\t\t\t\tsetPrice(0);\r\n\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\ttitle: 'Success',\r\n\t\t\t\t\ttext: 'Product Creation Successful'\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t// Navigate to the products page\r\n\t\t\t\t\tnavigate(\"/products\");\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tSwal.fire({\r\n\t\t\t\t\ticon: 'error',\r\n\t\t\t\t\ttitle: 'Error',\r\n\t\t\t\t\ttext: 'Something Went Wrong.'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t(user.isAdmin === true) ?\r\n\t\t\t<>\r\n\t\t\t\t<h1 className=\"my-5 text-center\">Add Product</h1>\r\n\t\t\t\t<Form onSubmit={e => createProduct(e)}>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Name:</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Name\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\tonChange={e => setName(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Description:</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Description\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={description}\r\n\t\t\t\t\t\t\tonChange={e => setDescription(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Form.Group>\r\n\t\t\t\t\t\t<Form.Label>Price:</Form.Label>\r\n\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Price\"\r\n\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\tvalue={price}\r\n\t\t\t\t\t\t\tonChange={e => setPrice(e.target.value)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Group>\r\n\t\t\t\t\t<Button variant=\"primary\" type=\"submit\" className=\"my-5\">Submit</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</>\r\n\t\t\t:\r\n\t\t\t<Navigate to=\"/products\" />\r\n\t);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}